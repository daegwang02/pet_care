{% extends "base.html" %}
{% block title %}내 리뷰{% endblock %}
{% block content %}
<h2>내가 받은 리뷰</h2>

{% if reviews %}
{% set avg = (reviews|map(attribute='rating')|sum) / (reviews|length) %}
<p>평균 평점: ★ {{ "%.1f"|format(avg) }} ({{ reviews|length }}개)</p>

{% for r in reviews %}
<div style="border:1px solid #ddd; padding:15px; margin:10px 0; border-radius:8px;">
    <div>{{ '★' * r.rating }}{{ '☆' * (5 - r.rating) }} - {{ r.reviewer_name }}</div>
    <p>{{ r.comment }}</p>
    <small>{{ r.created_at.strftime('%Y-%m-%d') }}</small>
</div>
{% endfor %}
{% else %}
<p>받은 리뷰가 없습니다.</p>
{% endif %}

<a href="{{ url_for('dashboard') }}">돌아가기</a>
{% endblock %}
