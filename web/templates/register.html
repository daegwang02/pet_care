{% extends "base.html" %}
{% block title %}회원가입{% endblock %}
{% block content %}
<div class="card" style="max-width: 500px; margin: 2rem auto;">
    <h2>회원가입</h2>
    <form method="POST">
        <div class="form-group">
            <label>이메일</label>
            <input type="email" name="email" required>
        </div>
        <div class="form-group">
            <label>비밀번호</label>
            <input type="password" name="password" required>
        </div>
        <div class="form-group">
            <label>이름</label>
            <input type="text" name="name" required>
        </div>
        <div class="form-group">
            <label>전화번호</label>
            <input type="tel" name="phone">
        </div>
        <div class="form-group">
            <label>역할</label>
            <select name="role" id="role" required onchange="showRoleFields()">
                <option value="Pet Owner">반려인</option>
                <option value="Veterinarian">수의사</option>
                <option value="Pet Sitter">펫시터</option>
                <option value="Pet Shop Manager">펫샵 매니저</option>
            </select>
        </div>
        
        <div id="vet-fields" style="display:none;">
            <div class="form-group">
                <label>병원명</label>
                <input type="text" name="clinic_name">
            </div>
            <div class="form-group">
                <label>전문분야</label>
                <input type="text" name="specialty" placeholder="예: 내과, 외과, 피부과">
            </div>
            <div class="form-group">
                <label>면허번호</label>
                <input type="text" name="license_number">
            </div>
            <div class="form-group">
                <label>진료비 (원)</label>
                <input type="number" name="consultation_fee" value="30000">
            </div>
        </div>
        
        <div id="sitter-fields" style="display:none;">
            <div class="form-group">
                <label>시간당 요금 (원)</label>
                <input type="number" name="hourly_rate" value="15000">
            </div>
            <div class="form-group">
                <label>경력 (년)</label>
                <input type="number" name="experience_years" value="0">
            </div>
            <div class="form-group">
                <label>돌봄 가능 동물</label>
                <input type="text" name="available_pets" placeholder="예: Dog, Cat">
            </div>
            <div class="form-group">
                <label>서비스 지역</label>
                <input type="text" name="service_area" placeholder="예: 서울 강남구">
            </div>
        </div>
        
        <div id="shop-fields" style="display:none;">
            <div class="form-group">
                <label>샵 이름</label>
                <input type="text" name="shop_name">
            </div>
            <div class="form-group">
                <label>위치</label>
                <input type="text" name="location">
            </div>
            <div class="form-group">
                <label>사업자번호</label>
                <input type="text" name="business_number">
            </div>
            <div class="form-group">
                <label>운영시간</label>
                <input type="text" name="operating_hours" placeholder="예: 09:00-18:00">
            </div>
        </div>
        
        <button type="submit" class="btn btn-primary" style="width: 100%;">회원가입</button>
    </form>
    <p style="text-align: center; margin-top: 1rem;">
        <a href="{{ url_for('login') }}">로그인</a>
    </p>
</div>

<script>
function showRoleFields() {
    var role = document.getElementById('role').value;
    document.getElementById('vet-fields').style.display = 'none';
    document.getElementById('sitter-fields').style.display = 'none';
    document.getElementById('shop-fields').style.display = 'none';
    
    if (role === 'Veterinarian') {
        document.getElementById('vet-fields').style.display = 'block';
    } else if (role === 'Pet Sitter') {
        document.getElementById('sitter-fields').style.display = 'block';
    } else if (role === 'Pet Shop Manager') {
        document.getElementById('shop-fields').style.display = 'block';
    }
}
</script>
{% endblock %}
