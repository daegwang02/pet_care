{% extends "base.html" %}
{% block title %}상품{% endblock %}
{% block content %}
<h1>상품</h1>

<div style="margin-bottom: 1rem;">
    <a href="{{ url_for('products') }}" class="btn btn-sm {% if not request.args.get('category') %}btn-primary{% else %}btn-secondary{% endif %}">전체</a>
    <a href="{{ url_for('products', category='사료') }}" class="btn btn-sm {% if request.args.get('category') == '사료' %}btn-primary{% else %}btn-secondary{% endif %}">사료</a>
    <a href="{{ url_for('products', category='용품') }}" class="btn btn-sm {% if request.args.get('category') == '용품' %}btn-primary{% else %}btn-secondary{% endif %}">용품</a>
    <a href="{{ url_for('products', category='장난감') }}" class="btn btn-sm {% if request.args.get('category') == '장난감' %}btn-primary{% else %}btn-secondary{% endif %}">장난감</a>
</div>

{% if products %}
<div class="grid">
    {% for product in products %}
    <div class="card">
        <h3>{{ product.name }}</h3>
        <p>{{ product.category }} | {{ product.shop_name }}</p>
        <p class="price">{{ "{:,}".format(product.price|int) }}원</p>
        <p>재고: {{ product.stock_quantity }}개</p>
        {% if session.role == 'Pet Owner' %}
        <a href="{{ url_for('order_product', product_id=product.product_id) }}" class="btn btn-primary btn-sm">구매</a>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% else %}
<div class="card">
    <p class="empty">상품이 없습니다.</p>
</div>
{% endif %}
{% endblock %}
